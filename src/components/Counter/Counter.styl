@import '../../styles/variables'

@keyframes dot-scale-fade
  0%
    opacity 0.5
    transform scale(1)
  50%
    opacity 0
    transform scale(3)
  100%
    opacity 0
    transform scale(3)

counterMixin(valueColor, backgroundColor)
  display flex
  justify-content center
  align-items center
  border-radius 50%
  color valueColor
  font-weight bold
  background-color backgroundColor

sizeMixin(size, fontSize, backgroundColor)
  min-width size
  min-height size
  .counter__value
    font-size fontSize
    background-color backgroundColor

.counter--primary
  counterMixin(var(--primary-white), var(--primary-green))

.counter--secondary
  counterMixin(var(--secondary-black), var(--secondary-grey))

.counter--size-8
  width 8px
  height 8px
  .counter__value
    display none

.counter--size-12
  width 12px
  height 12px
  .counter__value
    display none

.counter--size-16
  sizeMixin(16px, 11px, 10px, var(--primary-green))

.counter--size-20
  sizeMixin(20px, 13px, 12px, var(--primary-green))

.counter--size-24
  sizeMixin(24px, 15px, 14px, var(--primary-green))

.counter
  position relative
  display inline-flex
  justify-content center
  align-items center
  border-radius 50%

.counter__value
  white-space nowrap
  overflow hidden
  text-overflow ellipsis

  &.one-char
    min-width 1em
    max-width 1em

  &.two-chars
    min-width 2em
    max-width 2em

.counter--stroke
  &.counter--size-8
    border 1px solid var(--dynamic-surface-base-secondary)
  &.counter--size-12
    border 2px solid var(--dynamic-surface-base-secondary)
  &.counter--size-16
    border 2px solid var(--dynamic-surface-base-secondary)
  &.counter--size-20
    border 2px solid var(--dynamic-surface-base-secondary)
  &.counter--size-24
    border 3px solid var(--dynamic-surface-base-secondary)

.live-indicator
  position relative
  display flex
  align-items center
  justify-content center

  &.counter--size-8
    width 8px
    height 8px

  &.counter--size-12
    width 12px
    height 12px

.live-indicator .dot, .live-indicator .pulse
  position absolute
  border-radius 50%

  &.counter--size-8
    height 8px
    width 8px

  &.counter--size-12
    height 12px
    width 12px

  &.counter--primary
    background-color var(--primary-green)
    opacity 0.2

  &.counter--secondary
    background-color var(--secondary-grey)
    opacity 0.2

 .live-indicator .pulse
  animation dot-scale-fade 2s infinite
  width 12px
  height 12px
  
  &.counter--size-8
    width 8px
    height 8px

  &.counter--size-12
    width 12px
    height 12px

.live-indicator .pulse.one
  animation-delay 0s

.live-indicator .pulse.two
  animation-delay 0.25s